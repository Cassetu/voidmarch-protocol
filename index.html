<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voidmarch Protocol</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.svg">
    <meta name="theme-color" content="#1a1f2e">
    <link rel="stylesheet" href="style.css">
</head>
<div id="terminal-screen">
    <div class="terminal-screen-content">
        <div class="terminal-container">
            <div class="terminal-header">SYSTEM TERMINAL v2.4.1</div>
            <div class="terminal-output" id="terminal-output">
                <p class="terminal-line">> Awaiting command authorization...</p>
                <p class="terminal-line terminal-warning">> WARNING: Planetary core stability critical</p>
                <p class="terminal-line">> Type 'initiate' to begin protocol</p>
            </div>
            <div class="terminal-input-container">
                <span class="terminal-prompt">&gt;</span>
                <label for="terminal-input"></label><input type="text" id="terminal-input" class="terminal-input" autocomplete="off" />
                <button id="terminal-send" class="terminal-send">SEND</button>
            </div>
        </div>
    </div>
</div>

<div class="start-menu-content"><div id="start-menu" class="start-menu-wrapper">
    <div class="start-menu-content">
        <div class="menu-logo">
        <svg width="100" height="100" viewBox="0 0 100 100">
            <defs>
                <linearGradient id="menu-grad" x1="0%" y1="100%" x2="0%" y2="0%">
                    <stop offset="0%" style="stop-color:#ff4400;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ff8800;stop-opacity:1" />
                </linearGradient>
            </defs>
            <path d="M 30 80 L 50 60 L 70 80" fill="none" stroke="url(#menu-grad)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M 25 55 L 50 30 L 75 55" fill="none" stroke="url(#menu-grad)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M 20 30 L 50 5 L 80 30" fill="none" stroke="url(#menu-grad)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M 30 80 L 35 85 L 30 90" fill="none" stroke="#ff4400" stroke-width="4" stroke-linecap="round" opacity="0.6"/>
            <path d="M 70 80 L 65 85 L 70 90" fill="none" stroke="#ff4400" stroke-width="4" stroke-linecap="round" opacity="0.6"/>
            <path d="M 45 75 L 50 82 L 55 75" fill="none" stroke="#ff4400" stroke-width="3" stroke-linecap="round" opacity="0.4"/>
        </svg>
    </div>
    <h1 class="game-title">VOIDMARCH PROTOCOL</h1>
    <p class="game-subtitle">Survive. Expand. Escape.</p>
        <div class="menu-buttons">
            <button id="start-game-btn" class="menu-btn">Start Game</button>
            <button id="how-to-play-btn" class="menu-btn">How to Play</button>
            <button id="credits-btn" class="menu-btn">Credits</button>
        </div>
    </div>
</div></div>
<body>
<div id="game-container">
    <canvas id="gameCanvas"></canvas>
    <div id="ui-overlay">
        <div id="top-bar">
            <div style="display: flex; align-items: center; gap: 12px;">
                <svg width="28" height="28" viewBox="0 0 100 100">
                    <path d="M 30 80 L 50 60 L 70 80" fill="none" stroke="#ff8800" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M 25 55 L 50 30 L 75 55" fill="none" stroke="#ff8800" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M 20 30 L 50 5 L 80 30" fill="none" stroke="#ff8800" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h1>Voidmarch Protocol</h1>
            </div>
            <div id="stats">
                <span id="resource-display">
                        <strong id="pinned-resources"></strong>
                        <strong id="resource-hover-panel" class="resource-hover-panel"></strong>
                    </span>
                <span>
                        Weather:
                        <strong id="current-weather">Clear</strong>
                    </span>
                <span>
                        Food
                        <strong id="food-count">100</strong>
                    </span>
                <span>
                        Population
                        <strong id="population-count">50</strong>
                    </span>
                <span>
                        Age: <strong id="age-display">Stone</strong>
                    </span>
                <span>
                    Science
                    <strong id="science-count">0</strong>
                </span>
                    <span>
                    Production
                    <strong id="production-count">0</strong>
                </span>
                    <span>
                    Turn: <strong id="turn-count">0</strong>
                </span>
                    <span>
                    Core: <strong id="core-stability">100%</strong>
                </span>
                <span id="conquest-info" style="display: none;">
                    <strong id="conquest-progress">Hacking: 0/100</strong>
                    <strong id="conquest-enemies">Sentinels: 0</strong>
                </span>
            </div>
        </div>
        <div id="view-toggle-container">
            <button id="view-toggle-btn">
                <svg id="view-icon" width="24" height="24" viewBox="0 0 24 24">
                    <path id="view-icon-path" d="M12 2L2 7v10l10 5 10-5V7L12 2z"/>
                </svg>
            </button>
        </div>
        <div id="bottom-panel">
            <div id="console">
                <p>> System initialized...</p>
                <p>> Ready for construction</p>
            </div>
            <div id="side-panel">
                <div class="panel-section">
                    <button id="research-btn">Research Tech</button>
                    <button id="galaxy-map-btn" style="display: none;">Galaxy Map</button>
                    <button id="open-military-btn" style="display: none;">Military Command</button>
                </div>
                <div class="panel-section">
                    <h3>Ecosystem</h3>
                    <div id="ecosystem-info">
                        <div class="ecosystem-stat">
                            <span>Health:</span>
                            <strong id="ecosystem-health">100%</strong>
                        </div>
                        <div class="ecosystem-stat">
                            <span>Ashworms:</span>
                            <strong id="ashworm-count">0</strong>
                        </div>
                        <div class="ecosystem-stat">
                            <span>Magma Beetles:</span>
                            <strong id="beetle-count">0</strong>
                        </div>
                        <div class="ecosystem-stat">
                            <span>Emberbirds:</span>
                            <strong id="bird-count">0</strong>
                        </div>
                    </div>
                </div>
                <button id="end-turn-btn">End Turn</button>
                <button id="open-buildings-btn" style="background: #2a4a5a; border-color: #4a6a8a; width: 100%; padding: 8px; margin-bottom: 6px;">Open Buildings Menu</button>
                <div class="panel-section">
                    <h3>Info</h3>
                    <div id="building-info">
                        <p style="font-size: 9px; color: #7a8a9a;">Click a building to select,<br>then click on the map.</p>
                    </div>
                </div>
            </div>
            <div id="settlement-panel" style="display: none;">
                <button id="settlement-close-btn">×</button>
                <h2 id="settlement-title">Settlement</h2>
                <div id="settlement-info">
                    <div class="settlement-stat">
                        <span>Population:</span>
                        <strong id="settlement-population">0</strong>
                    </div>
                    <div class="settlement-stat">
                        <span>Food:</span>
                        <strong id="settlement-food">0</strong>
                        <span id="settlement-food-rate"></span>
                    </div>
                    <div class="settlement-stat">
                        <span>Growth:</span>
                        <strong id="settlement-growth">0%</strong>
                    </div>
                    <div class="settlement-stat">
                        <span>Storage:</span>
                        <strong id="settlement-storage">0/0</strong>
                    </div>
                </div>
                <div id="settlement-buildings">
                    <h3>Buildings</h3>
                    <div id="settlement-buildings-list"></div>
                </div>
                <div id="settlement-citizens">
                    <h3>Citizens</h3>
                    <div id="settlement-citizens-list"></div>
                </div>
            </div>
        </div>
        <div id="buildings-menu" style="display: none;">
            <button id="buildings-back-btn">← Back</button>
            <h2 style="text-align: center; color: #8fa3c8; margin-bottom: 20px; margin-top: 40px;">BUILD STRUCTURES</h2>
            <div id="buildings-grid"></div>
        </div>
        <div id="military-menu" style="display: none;">
            <button id="military-back-btn">← Back</button>
            <h2 style="text-align: center; color: #8fa3c8; margin-bottom: 20px; margin-top: 40px;">DEPLOY UNITS</h2>
            <div id="military-grid"></div>
        </div>
    </div>
</div>
<audio id="sfx-eruption-major" preload="auto">
    <source src="sounds/sfx/major-eruption.mp3" type="audio/mpeg">
</audio>
<audio id="sfx-eruption-catastrophic" preload="auto">
    <source src="sounds/sfx/eruption-catastrophic.mp3" type="audio/mpeg">
</audio>
<audio id="sfx-building-damage" preload="auto">
    <source src="sounds/sfx/collapse.mp3" type="audio/mpeg">
</audio>
<audio id="menu-music" loop preload="auto">
    <source src="sounds/music/titles.mp3" type="audio/mpeg">
</audio>

<script src="core/audioManager.js"></script>
<script src="systems/builder.js"></script>
<script src="player/player.js"></script>
<script src="world/world.js"></script>
<script src="renderers/terrainRenderer.js"></script>
<script src="renderers/buildingRenderer.js"></script>
<script src="renderers/unitRenderer.js"></script>
<script src="renderers/effectsRenderer.js"></script>
<script src="renderers/environmentalRenderer.js"></script>
<script src="renderers/overlayRenderer.js"></script>
<script src="renderers/creatureRenderer.js"></script>
<script src="renderers/backgroundRenderer.js"></script>
<script src="renderers/renderer.js"></script>
<script src="core/input.js"></script>
<script src="core/events.js"></script>
<script src="world/ecosystem.js"></script>
<script src="world/weather.js"></script>
<script src="world/environmentalObjects.js"></script>
<script src="systems/techTree.js"></script>
<script src="world/galaxy.js"></script>
<script src="systems/conquest.js"></script>
<script src="systems/unitActions.js"></script>
<script src="player/settlement.js"></script>
<script src="core/game.js"></script>
</body>
</html>